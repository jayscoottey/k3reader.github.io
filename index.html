<!DOCTYPE html>
<html>
<head>
<title>k3reader</title>
</head>


<body>

	
<div id="homePageAndSearchDiv"> <!---------------------------------------------------->

	<h2>Reddit reader using only HTML and JavaScript.</h2>
	<p>I've made this to read text posts on my Kindle 3 after Reddit killed i.reddit.com</p>
	<p>Let me know what other devices this works well on!</p>

	<br>

	<form>
		<select id="subUserSelect"> <option value="r/">r/</option> <option value="u/">u/</option> </select>		<input type="text" id="subInput" name="subInput">
		<br>
		<br>
		Search Term(s): <input type="text" id="searchInput" name="searchInput"> <input type="button" value="Click to submit">
	</form>

	<br>
</div> <!---------------------------------------------------------------------------->



<!-- If you are seeing example placeholder posts, you may not have javascript enabled. 

<br>
<br> -->


<div id="searchResultsDiv"> <!----------example layout: clear this with JS ---------->

	<div id="examplePostId_div">
		<br>
		<span><i>by u/exampleUser 00 points 00 hours ago</i> <input type="button" onclick="view_post_comments('examplePostId')" value="View comments"> </span>
		<br>
		<span><b>Example Post Title</b></span>
		<br>
		<span id="examplePostId_bodyPreview">If a post is long, just show a preview w/ an option to expand it... <input type="button" onclick="expand_post_body('examplePostId')" value="Expand (the invisible span)"> </span>
		<span id="examplePostId_bodyFull">
			Full post....................................
			<br>
			.............................................
			<br>
			.............................................
			<br>
			<button onclick="collapse_post_body('examplePostId')">Collapse (setting span invisible)</button>
		</span>
		
		

	</div>


	<div id="examplePost2Id_div">
		<br>
		<span id="examplePost2InfoSpan"><i>by u/exampleUser2 00 points 00 hours ago</i> <input type="button" name="examplePost2Id" onclick="view_post_comments(this.name)" value="View comments"> </span>
		<br>
		<span id="examplePost2TitleSpan"><b>Example Post2 Title</b></span>
		<br>
		<span id="examplePost2Id_bodyPreview">If a post is long, just show a preview w/ an option to expand it... <input type="button" onclick="testing_generate_expanded_span('examplePost2Id')" value="Expand (created with JS)"> </span>


	</div>

</div> <!---------------------------------------------------------------------------->



<div id="postWithCommentsDiv"> <!--example layout, clear and hide this with js at start-->

	<br>
	----------this will be as a new page----------------------------
	<br>

	<br>
	<span><input type="button" onclick="go_back_to_search()" value="<-"> <i>by u/exampleUser 00 points 00 hours ago</i> </span>
	<br>
	<span><b>Example Post Title</b></span>
	<br>
	<br>
	Comments: <!--should i put this inside of an element or is it okay to just have the text here?-->
	<br>
	<br>
	<div id="exampleCommentId">
		<span><i>by u/exampleUser 00 points 00 hours ago</i></span>
		<br>
		<span>Example comment.............</span>
		<br>
		&nbsp&nbsp&nbsp&nbsp|
		<br>
		<div id="exampleCommentIdReplies">
			<div id="exampleReplyId">
				<span><i>&nbsp&nbsp&nbsp&nbsp| by u/exampleUser 00 points 00 hours ago</i></span>
				<br>
				<span>&nbsp&nbsp&nbsp&nbsp| Example reply</span>
				<br>
				&nbsp&nbsp&nbsp&nbsp|
				<br>
			</div>
			<div id="exampleReply2Id">
				<span><i>&nbsp&nbsp&nbsp&nbsp| by u/exampleUser 00 points 00 hours ago</i></span>
				<br>
				<span>&nbsp&nbsp&nbsp&nbsp|	Example reply</span>
				<br>
				&nbsp&nbsp&nbsp&nbsp|
				<br>
				<div id="exampleReply3Id">
					<span><i>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp| by u/exampleUser 00 points 00 hours ago</i></span>
					<br>
					<span>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp| Example reply</span>
					<br>
					<br>
				</div>
			</div>
		</div>

	</div>


</div> <!-------------------------------------------------------------------------------->


<script>

	//i'm not sure if i want to load each post's full body into the page at first and just make them all 
	//invisible, or wait to add the element containing the text until after the expand button is pressed.
	//i need to set the first result's full body span invisible for testing:
	document.getElementById("examplePostId_bodyFull").style.display='none';
	//and here is the code to load it in for the 2nd example post:
	function testing_generate_expanded_span(examplePostId) {
		document.getElementById(examplePostId + "_bodyPreview").style.display = 'none';
		tempGeneratedSpan = document.createElement('span');
		tempGeneratedSpan.setAttribute('id', examplePostId + "_bodyFull");
		tempGeneratedSpan.innerHTML = 'Full post..................................<br>............................<br>...........................<br><button onclick="testing_delete_expanded_span(' + "'" + examplePostId + "'" + ')">Collapse (by deleting span)</button>';
		//okay this ^ is messy as fucking shit with all the needing to have different ' and "s inside of different " and 's to make it work. fucking hell. i'm gonna commit this just to keep a record of it because it's fucking funny. maybe making *some* elements with JS would be easier even if i don't like it
		document.getElementById(examplePostId + "_div").appendChild(tempGeneratedSpan);
	}
	//and testing deleting that span to collapse it:	although it could just be set invisible and left in memory in case i want to go read it again,
	//probably not tho and it's not that much work for the K3's browser to make a new span each time, right?
	function testing_delete_expanded_span(examplePostId) {
		document.getElementById(examplePostId + "_bodyFull").parentNode.removeChild(document.getElementById(examplePostId + "_bodyFull"));
		document.getElementById(examplePostId + "_bodyPreview").style.display = '';
	}
	

	function hide_element(passedElementId) {
		document.getElementById(passedElementId).style.display='none';
	}

	function show_element(passedElementId){
		document.getElementById(passedElementId).style.display='';
	}

	function expand_post_body(passedElementId){
		passedPostBodyPreview = document.getElementById(passedElementId + "_bodyPreview");
		passedPostBodyPreview.style.display='none';
		//document.getElementById(passedElementId + "_div").appendChild(document.createElement('span')).innerHTML = "test........................... <br> ..................................... <br> ...........................";
		document.getElementById('examplePostId_bodyFull').style.display='block';
	}

	//not sure whether to populate each paragraph with the post body upon search, or do it like i am now. 

	function collapse_post_body(passedElementId){
		document.getElementById(passedElementId + "_bodyFull").style.display = 'none';
		document.getElementById(passedElementId + "_bodyPreview").style.display='block';
	}

</script>




</body>
</html>
